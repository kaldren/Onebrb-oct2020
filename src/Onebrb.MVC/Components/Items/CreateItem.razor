@using Microsoft.AspNetCore.Mvc.Localization
@using Onebrb.MVC.Models.Item

<p>@Local["CreateItemPublishItemHeaderText"].Value.ToString()</p>
<p class="@notifyBarClass">@onSubmitResult</p>
<form>
    <div class="form-group">
        <label for="inputTitle">@Local["CreateItemTitle"].Value.ToString()</label>
        <input type="text" class="form-control" id="inputTitle" placeholder="BMW 330 XD 2002">
    </div>
    <div class="form-group">
        <label for="selectCategory">@Local["CreateItemCategory"].Value.ToString()</label>
        <select class="form-control" id="selectCategory">
            @foreach (var category in Model.Categories)
            {
                <option>@category.Name</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="textareaDescription">@Local["CreateItemDescription"].Value.ToString()</label>
        <textarea class="form-control" id="textareaDescription" rows="3"></textarea>
    </div>
    <button type="button" class="btn btn-success" @onclick="onFormSubmit" @onsubmit="onFormSubmit">@Local["CreateItemPublishButton"].Value.ToString()</button>
</form>
@{
}


@code {
    [Parameter]
    public CreateItemViewModel Model { get; set; }

    [Parameter]
    public string ViewerId { get; set; }

    [Parameter]
    public IViewLocalizer Local { get; set; }


    public string onSubmitResult { get; set; }
    public string notifyBarClass { get; set; }

    private void onFormSubmit()
    {
        notifyBarClass = "alert-success";
        onSubmitResult = "Item published successfuly!";
    }

    protected override void OnInitialized()
    {
        // Fix Local["xxx"].Value.ToString()
    }
}
